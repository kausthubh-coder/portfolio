---
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');
const workingProjects = projects.filter(project => project.data.working);
---

{workingProjects.length > 0 && (
  <section class="mb-8">
    <h2 class="text-2xl font-bold mb-4">Currently Cooking</h2>
    <div class="space-y-4">
      {workingProjects.map((project) => (
        <div class="bg-[var(--bg-dark)] p-4 rounded-lg">
          <div class="flex items-center space-x-4">
            <div class="w-12 h-12 bg-[var(--bg)] rounded-full flex items-center justify-center">
              <span class="text-2xl">{project.data.title.charAt(0)}</span>
            </div>
            <div>
              <h3 class="text-lg font-semibold">{project.data.title}</h3>
              <p class="text-sm text-[var(--text-secondary)]">{project.data.description}</p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </section>
)}
